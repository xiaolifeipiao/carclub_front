<!--
 * @Author: xiaolifeipiao
 * @Description: 360car测试
 * @version: 0.0.0
 * @Date: 2021-07-13 10:40:01
 * @LastEditTime: 2021-07-13 16:10:26
 * @LastEditors: xiaolifeipiao
 * @FilePath: \src\views\CarTest.vue
-->
<template>
  <div class="image-container">
      <div class="cpt-wg-360">
           <div 
            ref="myRef"
            class="cloudimage-360"
            :data-image-list= "[]"
            :data-folder="baseCar360Url"
            data-logo-src="<svg t="1626163788025" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4666" width="200" height="200"><path d="M511.504516 0C238.129548 0 16.516129 222.174968 16.516129 496.243613 16.516129 770.312258 238.129548 992.487226 511.504516 992.487226 784.879484 992.487226 1006.492903 770.312258 1006.492903 496.243613 1006.492903 222.174968 784.912516 0 511.504516 0L511.504516 0ZM511.504516 942.839742C265.447226 942.839742 65.998452 742.895484 65.998452 496.210581 65.998452 249.525677 265.447226 49.581419 511.504516 49.581419 757.561806 49.581419 957.010581 249.525677 957.010581 496.210581 957.010581 742.895484 757.561806 942.839742 511.504516 942.839742L511.504516 942.839742Z" p-id="4667" fill="#f4ea2a"></path><path d="M514.708645 281.963355C463.541677 281.963355 412.473806 301.815742 373.46271 341.520516 334.517677 381.192258 314.962581 433.251097 314.962581 485.243871 314.962581 537.236645 334.484645 589.295484 373.46271 628.967226 412.473806 668.672 463.541677 688.524387 514.708645 688.524387 565.809548 688.524387 616.877419 668.672 655.888516 628.967226 694.833548 589.295484 714.355613 537.236645 714.355613 485.243871 714.355613 433.251097 694.833548 381.192258 655.888516 341.520516 616.877419 301.815742 565.809548 281.963355 514.708645 281.963355L514.708645 281.963355ZM529.044645 329.562839C532.380903 316.944516 545.197419 309.380129 557.650581 312.782452 570.136774 316.184774 577.469935 329.199484 574.133677 341.850839 570.797419 354.535226 558.046968 362.099613 545.593806 358.69729 533.107613 355.294968 525.708387 342.280258 529.044645 329.562839L529.044645 329.562839ZM373.198452 546.617806C360.811355 550.053161 347.994839 542.554839 344.658581 529.870452 341.322323 517.186065 348.655484 504.138323 361.141677 500.736 373.627871 497.36671 386.411355 504.865032 389.747613 517.582452 393.083871 530.233806 385.684645 543.215484 373.198452 546.617806L373.198452 546.617806ZM389.615484 392.291097C380.498581 383.009032 380.498581 367.979355 389.615484 358.69729 398.765419 349.415226 413.497806 349.415226 422.61471 358.69729 431.698581 367.979355 431.698581 383.009032 422.61471 392.291097 413.497806 401.606194 398.732387 401.606194 389.615484 392.291097L389.615484 392.291097ZM496.309677 638.282323C492.973419 650.900645 480.156903 658.465032 467.769806 655.06271 455.283613 651.660387 447.884387 638.645677 451.220645 625.994323 454.556903 613.309935 467.373419 605.745548 479.826581 609.147871 492.24671 612.550194 499.645935 625.564903 496.309677 638.282323L496.309677 638.282323ZM444.085677 553.818839C406.197677 515.171097 406.197677 452.674065 444.085677 414.092387 481.973677 375.543742 543.44671 375.543742 581.33471 414.092387 619.22271 452.674065 619.22271 515.204129 581.33471 553.818839 543.44671 592.367484 481.973677 592.367484 444.085677 553.818839L444.085677 553.818839ZM635.837935 609.147871C626.688 618.396903 611.889548 618.396903 602.83871 609.147871 593.721806 599.865806 593.721806 584.803097 602.83871 575.554065 611.922581 566.238968 626.721032 566.238968 635.837935 575.554065 644.888774 584.803097 644.888774 599.832774 635.837935 609.147871L635.837935 609.147871ZM680.761806 437.97471C684.098065 450.692129 676.698839 463.706839 664.212645 467.109161 651.825548 470.478452 639.009032 462.980129 635.672774 450.26271 632.336516 437.611355 639.735742 424.563613 652.155871 421.16129 664.642065 417.825032 677.425548 425.290323 680.761806 437.97471L680.761806 437.97471Z" p-id="4668" fill="#f4ea2a"></path><path d="M210.085161 197.400774 231.754323 339.406452 268.354065 333.724903 246.684903 191.686194 210.085161 197.400774Z" p-id="4669" fill="#f4ea2a"></path><path d="M398.005677 863.793548 421.227355 893.22529 530.465032 803.740903 507.243355 774.309161 398.005677 863.793548Z" p-id="4670" fill="#f4ea2a"></path><path d="M777.546323 308.983742 764.135226 344.163097 894.117161 395.429161 907.528258 360.249806 777.546323 308.983742Z" p-id="4671" fill="#f4ea2a"></path><path d="M115.513806 606.637419 246.817032 658.432 260.228129 623.252645 128.924903 571.458065 115.513806 606.637419Z" p-id="4672" fill="#f4ea2a"></path><path d="M627.612903 103.853419 604.424258 74.421677 498.654968 161.06529 521.843613 190.464 627.612903 103.853419Z" p-id="4673" fill="#f4ea2a"></path><path d="M756.934194 636.20129 778.206968 776.125935 814.905806 770.34529 793.6 630.387613 756.934194 636.20129Z" p-id="4674" fill="#f4ea2a"></path></svg>"
            data-amount="36"
            data-magnifier="3"
            ></div>
        </div>
  </div>
</template>

<script>
import {defineComponent,onMounted,onUnmounted, ref} from 'vue'
import {baseCar360Url} from '@utils/baseCar360Url'
import  'js-cloudimage-360-view'
export default defineComponent({
    name:'CarTest',
    setup(){
        console.log(baseCar360Url)
        const myRef = ref(null);
        onMounted(()=>{
            const data = getData()
            myRef.value.setAttribute('data-image-list',data)
            console.log(myRef.value);
            window.CI360.init()
           
        })
        const getData=()=>{
            const list ='["c09f50ebb5f642eaad25cc1674a26f16~tplv-resize:640:0.png","efb1c947740549719673848f288519be~tplv-resize:640:0.png","25d48ba2f7eb4dca8e70e3c907728423~tplv-resize:640:0.png","9ffc9c896a664d11b5f85babb97eda0d~tplv-resize:640:0.png", "6cf3b8405a0847ecad9d22d4020a512a~tplv-resize:640:0.png","1d5fc2c32db74030bfadbde47cd329a0~tplv-resize:640:0.png","9752db81a3804db59ef6e6bf4eacd2a2~tplv-resize:640:0.png", "e357a71c13d849ec9313f4355b5ef8ea~tplv-resize:640:0.png","8e6c9a5729764ca49ed045942b4e02c5~tplv-resize:640:0.png", "cd0c1057e6d94596824b5a405b480f06~tplv-resize:640:0.png","3872cd2ec84440febb97575dc543b12f~tplv-resize:640:0.png","64d3ad10db214ee389e7a99c02f75853~tplv-resize:640:0.png","44020fd131aa4b0b9a5f6791c336d207~tplv-resize:640:0.png","f42b4812f5fc4445979f6bf501f70e83~tplv-resize:640:0.png","23f9aed17fcd427c9cf636204a486f42~tplv-resize:640:0.png","f76fc23bba0c40a5a5c3e9ffced63d00~tplv-resize:640:0.png","1d2d7ffadaa84ba7bac1446e3c2ac2dd~tplv-resize:640:0.png","5022d1ae0a86449eb34880910d6f4ce9~tplv-resize:640:0.png","96383b3f5ff54444a70be40cee53f429~tplv-resize:640:0.png","8ef06c0c01cd456abdc674cb8783f488~tplv-resize:640:0.png","c4d039d9966c417fb3920a8b145f5a64~tplv-resize:640:0.png","11fd0e85553642a8bd1754454544b390~tplv-resize:640:0.png","5c1900c29bb04dc6b3d86c7d1aa1e676~tplv-resize:640:0.png","ea9d8c999f164c6e9dd73eb37e651055~tplv-resize:640:0.png","e2e5aa1d6a7a4a5d9dfc4a03c41c6136~tplv-resize:640:0.png","89b58bcd341c4bb3a98e75b4dc2308e4~tplv-resize:640:0.png","52fcfcba61a24fe1a9eb7f97b45926a4~tplv-resize:640:0.png","fe9f27a648964092b82854ab3d47ea48~tplv-resize:640:0.png","105b5d2d9408470386e25b7d0dad2222~tplv-resize:640:0.png","dcd28903f2f84ca2975a9c50a601928a~tplv-resize:640:0.png","1294f2762ce146feb732f480e5987d80~tplv-resize:640:0.png","43e980ca95634c5cb148f3d3166ca294~tplv-resize:640:0.png","f4dcbf582106409ba440c9b5d1fca750~tplv-resize:640:0.png","bf1d31f3cbee47269af01708465a7ed2~tplv-resize:640:0.png","326b47d95695490793c033bc6de6e53c~tplv-resize:640:0.png","8e2a5c5612d748cfacb72f143397061d~tplv-resize:640:0.png"]'
            return list;
        }
        onUnmounted(()=>{
            window.CI360.destroy()
        })
        const  carUrl =ref("https://p9-dcd.byteimg.com/img/tos-cn-i-0000/")
        return{
            baseCar360Url,
            myRef
        }
    }
}) 
</script>

<style>

.image-container {
    position: relative;
    width: 100%;
    height: 160px;
    background-image: -webkit-gradient(linear,left bottom,left top,from(hsla(0,0%,100%,0)),to(#ccc));
    background-image: -webkit-linear-gradient(bottom,hsla(0,0%,100%,0),#ccc);
    background-image: linear-gradient(0deg,hsla(0,0%,100%,0),#ccc);
}
.cpt-wg-360 {
   position: absolute;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    position: relative;
    padding: 0 9.6%;
    min-height: 160px;
    overflow: hidden;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    margin-top: -15px;
}
</style>